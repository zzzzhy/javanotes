1. redis 的线程模型

    redis 内部使用文件事件处理器 file event handler，这个文件事件处理器是单线程的，所以 redis 才叫做单线程的模型。它采用 IO 多路复用机制同时监听多个 socket，将产生事件的 socket 压入内存队列中，事件分派器根据 socket 上的事件类型来选择对应的事件处理器进行处理。
    
    文件事件处理器的结构包含 4 个部分：
    
    - 多个 socket
    - IO 多路复用程序
    - 文件事件分派器
    - 事件处理器（连接应答处理器、命令请求处理器、命令回复处理器）
2. 为啥 redis 单线程模型也能效率这么高？

   - 纯内存操作。
   - 核心是基于非阻塞的 IO 多路复用机制。
   - C 语言实现，一般来说，C 语言实现的程序“距离”操作系统更近，执行速度相对会更快。
   - 单线程反而避免了多线程的频繁上下文切换问题，预防了多线程可能产生的竞争问题。
